let pokemonRepository = function () { var e; let t = [], n = document.querySelector("#search"); function i(e) { "object" == typeof e && "name" in e ? t.push(e) : alert("Added pokemon must be a correct object") } function l() { return t } function r() { let e = document.querySelector(".loading-screen"), t = document.querySelector("#loader"); e.classList.add("display"), t.classList.add("display"), setTimeout(() => { t.classList.remove("display") }, 5e6) } function o() { let e = document.querySelector(".loading-screen"), t = document.querySelector("#loader"); e.classList.remove("display"), t.classList.remove("display") } function s(e, t, n, i, l) { let r = document.querySelector(".modal-body"), o = document.querySelector(".modal-title"), s = document.querySelector(".modal-header"); s.innerHTML = "", r.innerHTML = "", s.appendChild(o), o.innerText = e; let a = document.createElement("button"); a.classList.add("close"), a.setAttribute("type", "button"), a.setAttribute("data-dismiss", "modal"), a.setAttribute("aria-label", "Close"), a.innerHTML = '<span aria-hidden="true">&times;</span>'; let d = document.createElement("img"); d.setAttribute("src", i), s.appendChild(a); let c = document.createElement("p"); c.innerText = "Height: " + t / 10 + " m"; let p = document.createElement("p"); p.innerHTML = "Weight: " + n / 10 + " kg"; let u = document.createElement("p"); u.innerText = "Types: " + l.join(", "), r.classList.add("text-center"), r.appendChild(d), r.appendChild(c), r.appendChild(p), r.appendChild(u) } function a(e) { c(e).then(function () { s(e.name, e.height, e.weight, e.imageUrl, e.types) }) } function d(e, t) { e.addEventListener("click", function () { a(t) }) } function c(e) { let t = e.detailsUrl; return fetch(t).then(function (e) { return e.json() }).then(function (t) { e.imageUrl = t.sprites.front_default, e.height = t.height, e.weight = t.weight, e.types = t.types; for (let n = 0; n < e.types.length; n++)e.types[n] = t.types[n].type.name }).catch(function (e) { console.error(e) }) } let p = function e() { let t, i, l, r, o; for (l = 0, t = n.value.toUpperCase(), i = document.getElementsByClassName("list-group-item"); l < i.length; l++)(r = (o = i[l].getElementsByClassName("btn")[0]).innerText).toUpperCase().indexOf(t) > -1 ? i[l].style.display = "" : i[l].style.display = "none" }, u; return n.addEventListener("keyup", (e = p, function t(...n) { let i = () => { clearTimeout(u), e(...n) }; clearTimeout(u), u = setTimeout(i, 250) })), { add: i, getAll: l, addListItem: function e(t) { let n = document.querySelector(".row"), i = document.createElement("li"); i.classList.add("list-group-item", "list-unstyled", "col-md-3", "col-sm-4", "pokemon-item"); let l = document.createElement("button"); l.classList.add("btn", "button-89"), l.setAttribute("data-toggle", "modal"), l.setAttribute("data-target", "#modal"), l.innerText = t.name, i.appendChild(l), n.appendChild(i), d(l, t) }, showDetails: a, showModal: s, addButtonListener: d, loadList: function e() { return r(), fetch("https://pokeapi.co/api/v2/pokemon/?limit=3000").then(e => { var t; return t = e, new Promise(e => setTimeout(e, 2e3, t)) }).then(e => e.json()).then(e => { o(), e.results.forEach(function (e) { let t = { name: e.name, detailsUrl: e.url }; i(t) }) }).catch(function (e) { o(), console.error(e) }) }, loadDetails: c, showLoadingMessage: r, hideLoadingMessage: o } }(); import { pagination as e } from "./pagination.js"; pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (e) { pokemonRepository.addListItem(e) }) }).then(() => { e() }).catch(e => { console.error(e) }); let debounce = (e, t) => { let n; return function i(...l) { let r = () => { clearTimeout(n), e(...l) }; clearTimeout(n), n = setTimeout(r, t) } }, search = function e() { let t, n, i, l, r; for (i = 0, t = input.value.toUpperCase(), n = document.getElementsByClassName("list-group-item"); i < n.length; i++)(l = (r = n[i].getElementsByClassName("btn")[0]).innerText).toUpperCase().indexOf(t) > -1 ? n[i].style.display = "" : n[i].style.display = "none" }; input.addEventListener("keyup", debounce(search, 250));