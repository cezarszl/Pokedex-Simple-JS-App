let pokemonRepository = function () { let e = [], t = document.querySelector("#search"); function n(t) { "object" == typeof t && "name" in t ? e.push(t) : alert("Added pokemon must be a correct object") } function i() { return e } function o() { let e = document.querySelector(".loading-screen"), t = document.querySelector("#loader"); e.classList.add("display"), t.classList.add("display"), setTimeout(() => { t.classList.remove("display") }, 5e6) } function a() { let e = document.querySelector(".loading-screen"), t = document.querySelector("#loader"); e.classList.remove("display"), t.classList.remove("display") } function l(e, t, n, i, o) { let a = document.querySelector(".modal-body"), l = document.querySelector(".modal-title"), s = document.querySelector(".modal-header"); s.innerHTML = "", a.innerHTML = "", s.appendChild(l), l.innerText = e; let r = document.createElement("button"); r.classList.add("close"), r.setAttribute("type", "button"), r.setAttribute("data-dismiss", "modal"), r.setAttribute("aria-label", "Close"), r.innerHTML = '<span aria-hidden="true">&times;</span>'; let d = document.createElement("img"); d.setAttribute("src", i), s.appendChild(r); let c = document.createElement("p"); c.innerText = "Height: " + t / 10 + " m"; let p = document.createElement("p"); p.innerHTML = "Weight: " + n / 10 + " kg"; let u = document.createElement("p"); u.innerText = "Types: " + o.join(", "), a.classList.add("text-center"), a.appendChild(d), a.appendChild(c), a.appendChild(p), a.appendChild(u) } function s(e) { d(e).then(function () { l(e.name, e.height, e.weight, e.imageUrl, e.types) }) } function r(e, t) { e.addEventListener("click", function () { s(t) }) } function d(e) { let t = e.detailsUrl; return fetch(t).then(function (e) { return e.json() }).then(function (t) { e.imageUrl = t.sprites.front_default, e.height = t.height, e.weight = t.weight, e.types = t.types; for (let n = 0; n < e.types.length; n++)e.types[n] = t.types[n].type.name }).catch(function (e) { console.error(e) }) } function c() { let e, n, i, o, a; for (i = 0, e = t.value.toUpperCase(), n = document.getElementsByClassName("list-group-item"); i < n.length; i++)(o = (a = n[i].getElementsByClassName("btn")[0]).innerText).toUpperCase().indexOf(e) > -1 ? n[i].style.display = "" : n[i].style.display = "none" } return t.addEventListener("keyup", c), { add: n, getAll: i, addListItem: function e(t) { let n = document.querySelector(".row"), i = document.createElement("li"); i.classList.add("list-group-item", "list-unstyled", "col-md-3", "col-sm-4", "pokemon-item"); let o = document.createElement("button"); o.classList.add("btn", "button-89"), o.setAttribute("data-toggle", "modal"), o.setAttribute("data-target", "#modal"), o.innerText = t.name, i.appendChild(o), n.appendChild(i), r(o, t) }, showDetails: s, showModal: l, addButtonListener: r, loadList: function e() { return o(), fetch("https://pokeapi.co/api/v2/pokemon/?limit=3000").then(e => { var t; return t = e, new Promise(e => setTimeout(e, 2e3, t)) }).then(e => e.json()).then(e => { a(), e.results.forEach(function (e) { let t = { name: e.name, detailsUrl: e.url }; n(t) }) }).catch(function (e) { a(), console.error(e) }) }, loadDetails: d, showLoadingMessage: o, hideLoadingMessage: a, search: c } }(); import { pagination as e } from "./pagination.min.js"; pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (e) { pokemonRepository.addListItem(e) }) }).then(() => { e() }).catch(e => { console.error(e) });