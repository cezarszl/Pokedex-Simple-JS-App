let pokemonRepository=function(){let e=[],t=document.querySelector("#search");function n(t){"object"==typeof t&&"name"in t?e.push(t):alert("Added pokemon must be a correct object")}function i(){return e}function l(){let e=document.querySelector(".loading-screen"),t=document.querySelector("#loader");e.classList.add("display"),t.classList.add("display"),setTimeout(()=>{t.classList.remove("display")},5e6)}function o(){let e=document.querySelector(".loading-screen"),t=document.querySelector("#loader");e.classList.remove("display"),t.classList.remove("display")}function a(e,t,n,i,l){let o=document.querySelector(".modal-body"),a=document.querySelector(".modal-title"),s=document.querySelector(".modal-header");s.innerHTML="",o.innerHTML="",s.appendChild(a),a.innerText=e;let r=document.createElement("button");r.classList.add("close"),r.setAttribute("type","button"),r.setAttribute("data-dismiss","modal"),r.setAttribute("aria-label","Close"),r.innerHTML='<span aria-hidden="true">&times;</span>';let d=document.createElement("img");d.setAttribute("src",i),s.appendChild(d),s.appendChild(r);let c=document.createElement("p");c.innerText="Height: "+t/10+" m";let p=document.createElement("p");p.innerHTML="Weight: "+n/10+" kg";let u=document.createElement("p");u.innerText="Types: "+l.join(", "),o.classList.add("text-center"),o.appendChild(c),o.appendChild(p),o.appendChild(u)}function s(e){d(e).then(function(){a(e.name,e.height,e.weight,e.imageUrl,e.types)})}function r(e,t){e.addEventListener("click",function(){s(t)})}function d(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types;for(let n=0;n<e.types.length;n++)e.types[n]=t.types[n].type.name}).catch(function(e){console.error(e)})}function c(){let e,n,i,l,o;for(i=0,e=t.value.toUpperCase(),n=document.getElementsByClassName("list-group-item");i<n.length;i++)(l=(o=n[i].getElementsByClassName("btn")[0]).innerText).toUpperCase().indexOf(e)>-1?n[i].style.display="":n[i].style.display="none"}return t.addEventListener("keyup",c),{add:n,getAll:i,addListItem:function e(t){let n=document.querySelector(".row"),i=document.createElement("li");i.classList.add("list-group-item","list-unstyled","col-md-3","col-sm-4","pokemon-item");let l=document.createElement("button");l.classList.add("btn","button-89"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#modal"),l.innerText=t.name,i.appendChild(l),n.appendChild(i),r(l,t)},showDetails:s,showModal:a,addButtonListener:r,loadList:function e(){return l(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=1000").then(e=>{var t;return t=e,new Promise(e=>setTimeout(e,2e3,t))}).then(e=>e.json()).then(e=>{o(),e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){o(),console.error(e)})},loadDetails:d,showLoadingMessage:l,hideLoadingMessage:o,search:c}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});