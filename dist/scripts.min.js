let pokemonRepository = function () { let e = []; function t(t) { "object" == typeof t && "name" in t ? e.push(t) : alert("Added pokemon must be a correct object") } function n() { return e } function i() { let e = document.querySelector(".loading-screen"), t = document.querySelector("#loader"); e.classList.add("display"), t.classList.add("display"), setTimeout(() => { t.classList.remove("display") }, 5e6) } function r() { let e = document.querySelector(".loading-screen"), t = document.querySelector("#loader"); e.classList.remove("display"), t.classList.remove("display") } function l(e, t, n, i, r) { let l = document.querySelector(".modal-body"), o = document.querySelector(".modal-title"), a = document.querySelector(".modal-header"); a.innerHTML = "", l.innerHTML = "", a.appendChild(o), o.innerText = e; let s = document.createElement("button"); s.classList.add("close"), s.setAttribute("type", "button"), s.setAttribute("data-dismiss", "modal"), s.setAttribute("aria-label", "Close"), s.innerHTML = '<span aria-hidden="true">&times;</span>'; let d = document.createElement("img"); d.setAttribute("src", i), a.appendChild(s); let c = document.createElement("p"); c.innerText = "Height: " + t / 10 + " m"; let p = document.createElement("p"); p.innerHTML = "Weight: " + n / 10 + " kg"; let u = document.createElement("p"); u.innerText = "Types: " + r.join(", "), l.classList.add("text-center"), l.appendChild(d), l.appendChild(c), l.appendChild(p), l.appendChild(u) } function o(e) { s(e).then(function () { l(e.name, e.height, e.weight, e.imageUrl, e.types) }) } function a(e, t) { e.addEventListener("click", function () { o(t) }) } function s(e) { let t = e.detailsUrl; return fetch(t).then(function (e) { return e.json() }).then(function (t) { e.imageUrl = t.sprites.front_default, e.height = t.height, e.weight = t.weight, e.types = t.types; for (let n = 0; n < e.types.length; n++)e.types[n] = t.types[n].type.name }).catch(function (e) { console.error(e) }) } return { add: t, getAll: n, addListItem: function e(t) { let n = document.querySelector(".row"), i = document.createElement("li"); i.classList.add("list-group-item", "list-unstyled", "col-md-3", "col-sm-4", "pokemon-item"); let r = document.createElement("button"); r.classList.add("btn", "button-89"), r.setAttribute("data-toggle", "modal"), r.setAttribute("data-target", "#modal"), r.innerText = t.name, i.appendChild(r), n.appendChild(i), a(r, t) }, showDetails: o, showModal: l, addButtonListener: a, loadList: function e() { return i(), fetch("https://pokeapi.co/api/v2/pokemon/?limit=3000").then(e => { var t; return t = e, new Promise(e => setTimeout(e, 2e3, t)) }).then(e => e.json()).then(e => { r(), e.results.forEach(function (e) { let n = { name: e.name, detailsUrl: e.url }; t(n) }) }).catch(function (e) { r(), console.error(e) }) }, loadDetails: s, showLoadingMessage: i, hideLoadingMessage: r } }(); import { pagination as e } from "./pagination.min.js"; pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (e) { pokemonRepository.addListItem(e) }) }).then(() => { e() }).catch(e => { console.error(e) }); let debounce = (e, t) => { let n; return function i(...r) { let l = () => { clearTimeout(n), e(...r) }; clearTimeout(n), n = setTimeout(l, t) } }, search = function e() { let t, n, i, r, l; for (i = 0, t = input.value.toUpperCase(), n = document.getElementsByClassName("list-group-item"); i < n.length; i++)(r = (l = n[i].getElementsByClassName("btn")[0]).innerText).toUpperCase().indexOf(t) > -1 ? (n[i].style.display = "", n[i].classList.remove("hidden")) : n[i].style.display = "none" }, input = document.querySelector("#search"); input.addEventListener("keyup", debounce(search, 2500));